@using Monivault.Authorization
@using Monivault.Web.Startup
@model Monivault.Web.Models.Profile.ProfileViewModel
@{
	ViewBag.CurrentPageName = PageNames.MyProfile;
}
@section styles
{
	<link href="~/lib/bootstrap-fileinput/bootstrap-fileinput.css" rel="stylesheet"/>
	<link href="~/lib/bootstrap-select/dist/css/bootstrap-select.css" rel="stylesheet" type="text/css" />
}
@section scripts
{
	<script src="~/lib/bootstrap-fileinput/bootstrap-fileinput.js"></script>
	<script src="~/lib/bootstrap-select/dist/js/bootstrap-select.js" type="text/javascript"></script>
	<script src="~/view-resources/Views/Profile/Index.js"></script>
}
<div class="m-grid__item m-grid__item--fluid m-wrapper">
	<!-- BEGIN: Subheader -->
	<div class="m-subheader ">
		<div class="d-flex align-items-center">
			<div class="mr-auto">
				<h3 class="m-subheader__title">My Profile</h3>
			</div>
		</div>
	</div>

	<!-- END: Subheader -->

<div class="m-content">
<div class="row">
<div class="col-xl-3 col-lg-4">
	<div class="m-portlet m-portlet--full-height  ">
		<div class="m-portlet__body">
			<div class="m-card-profile">
				<div class="m-card-profile__title m--hide">
					Your Profile
				</div>
				<div class="m-card-profile__pic">
					<div class="m-card-profile__pic-wrapper">
						<img src="@Model.ProfilePictureUrl" alt=""/>
					</div>
				</div>
				<div class="m-card-profile__details">
					<span class="m-card-profile__name">@($"{Model.FirstName} {Model.LastName}")</span>
					<a href="" class="m-card-profile__email m-link">@Model.Email</a>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="col-xl-9 col-lg-8">
<div class="m-portlet m-portlet--full-height m-portlet--tabs  ">
<div class="m-portlet__head">
	<div class="m-portlet__head-tools">
		<ul class="nav nav-tabs m-tabs m-tabs-line   m-tabs-line--left m-tabs-line--primary" role="tablist">
			<li class="nav-item m-tabs__item">
				<a class="nav-link m-tabs__link active" data-toggle="tab" href="#profileDetailTab" role="tab">
					<i class="flaticon-share m--hide"></i>
					Profile Detail
				</a>
			</li>
			@if (IsGranted(PermissionNames.ViewAccountHolderDashboard))
			{
				<li class="nav-item m-tabs__item">
					<a class="nav-link m-tabs__link" data-toggle="tab" href="#updateBankAccountTab" role="tab">
						Account Holder
					</a>
				</li>
			}
		</ul>
	</div>
</div>
<div class="tab-content">
	<div class="tab-pane active" id="profileDetailTab">
		<div class="m-portlet__body">
			<form class="m-form m-form--fit m-form--label-align-right" asp-action="UpdatePersonalDetail">
				<div class="form-group m-form__group m--margin-top-10 m--hide">
					<div class="alert m-alert m-alert--default" role="alert">
						The example form below demonstrates common HTML form elements that receive updated styles from Bootstrap with additional classes.
					</div>
				</div>
				<div class="form-group m-form__group row">
					<div class="col-10 ml-auto">
						<h3 class="m-form__section">1. Personal Details</h3>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">First Name</label>
					<div class="col-7">
						<input class="form-control m-input" type="text" name="FirstName" value="@Model.FirstName" readonly="readonly">
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">Last Name</label>
					<div class="col-7">
						<input class="form-control m-input" type="text" name="LastName" value="@Model.LastName" readonly="readonly">
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">Phone Number</label>
					<div class="col-7">
						<div class="input-group m-input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">
									<i class="la la-phone-square"></i>
								</span>
							</div>
							<input class="form-control m-input" type="text" name="PhoneNumber" value="@Model.PhoneNumber">
						</div>

					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">Email</label>
					<div class="col-7">
						<div class="input-group m-input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">
									<i class="la la-envelope"></i>
								</span>
							</div>
							<input class="form-control m-input" type="text" name="Email" value="@Model.Email" readonly="readonly">
						</div>
					</div>
				</div>
				<div class="m-form__actions">
					<div class="row">
						<div class="col-2">
						</div>
						<div class="col-7">
							<button id="UpdatePersonalDetailBtn" type="button" class="btn btn-accent m-btn m-btn--air m-btn--custom">Update Details</button>&nbsp;&nbsp;
							<button type="reset" class="btn btn-secondary m-btn m-btn--air m-btn--custom">Cancel</button>
						</div>
					</div>
				</div>
				<div class="m-form__seperator m-form__seperator--dashed m-form__seperator--space-2x"></div>
			</form>
			<form asp-action="UpdatePassword" class="m-form m-form--fit m-form--label-align-right">
				<div class="form-group m-form__group row">
					<div class="col-10 ml-auto">
						<h3 class="m-form__section">2. Password Update</h3>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">Current Password</label>
					<div class="col-7">
						<input name="CurrentPassword" class="form-control m-input" type="password" value="">
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">New Password</label>
					<div class="col-7">
						<input name="NewPassword" id="NewPassword" class="form-control m-input" type="password" value="">
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label for="example-text-input" class="col-3 col-form-label">Confirm Password</label>
					<div class="col-7">
						<input name="ConfirmPassword" class="form-control m-input" type="password" value="">
					</div>
				</div>
				<div class="m-form__actions">
					<div class="row">
						<div class="col-2">
						</div>
						<div class="col-7">
							<button id="UpdatePasswordBtn" type="button" class="btn btn-accent m-btn m-btn--air m-btn--custom">Update Password</button>&nbsp;&nbsp;
							<button type="reset" class="btn btn-secondary m-btn m-btn--air m-btn--custom">Cancel</button>
						</div>
					</div>
				</div>
				<div class="m-form__seperator m-form__seperator--dashed m-form__seperator--space-2x"></div>
			</form>

			<form class="m-form m-form--fit m-form--label-align-right" asp-action="UploadProfilePicture" enctype="multipart/form-data">
				<div class="form-group m-form__group row">
					<div class="col-10 ml-auto">
						<h3 class="m-form__section">3. Profile Picture Update</h3>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label class="col-form-label col-lg-3 col-sm-12">Profile Picture File Upload</label>
					<div class="col-lg-4 col-md-9 col-sm-12">
                        <div class="fileinput fileinput-new" data-provides="fileinput">
                            <div class="fileinput-preview img-thumbnail" data-trigger="fileinput" style="width: 200px; height: 150px;"> </div>
                            <div>
                                <span class="btn red btn-outline btn-file">
                                    <span class="fileinput-new"> Select image </span>
                                    <span class="fileinput-exists"> Change </span>
                                    <input type="file" name="profilePicture" id="profilePicture">
                                </span>
                                <a href="javascript:;" class="btn red fileinput-exists" data-dismiss="fileinput"> Remove </a>
                            </div>
                        </div>
					</div>
				</div>
				<div class="m-form__actions">
					<div class="row">
						<div class="col-2">
						</div>
						<div class="col-7">
							<button id="updateProfilePictureBtn" type="button" class="btn btn-accent m-btn m-btn--air m-btn--custom">Update Profile Picture</button>&nbsp;&nbsp;
							<button type="button" class="btn btn-secondary m-btn m-btn--air m-btn--custom">Cancel</button>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div class="tab-pane " id="updateBankAccountTab">
		<div class="m-portlet__body">
			<div class="m-widget12">
				<div class="m-widget12__item">
					<span class="m-widget12__text1">Account ID<br/><span>@Model.AccountIdentity</span></span>
				</div>
			</div>
			<form asp-controller="Profile" asp-action="UpdateBankAccountDetail" class="m-form m-form--fit m-form--label-align-right">
				<div class="m-form__seperator m-form__seperator--dashed m-form__seperator--space-2x"></div>
				<div class="form-group m-form__group row">
					<div class="col-10 ml-auto">
						<h3 class="m-form__section">Bank Account Detail</h3>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label class="col-form-label col-lg-3 col-sm-12">Bank Name</label>
					<div class="col-lg-4 col-md-9 col-sm-12">
						<select id="BankName" name="BankName" asp-for="Bank" asp-items="Model.Banks" class="form-control m-bootstrap-select m_selectpicker">
							
						</select>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label class="col-form-label col-lg-3 col-sm-12">Account Number</label>
					<div class="col-lg-4 col-md-9 col-sm-12">
						<input id="AccountNumber" name="AccountNumber" class="form-control m-input" type="text" value="@Model.AccountNumber"/>
					</div>
				</div>
				<div class="form-group m-form__group row">
					<label class="col-form-label col-lg-3 col-sm-12">Account Name</label>
					<div class="col-lg-4 col-md-9 col-sm-12">
						<input id="AccountName" name="AccountName" class="form-control m-input" type="text" value="@Model.AccountName"/>
					</div>
				</div>
				<div class="m-form__actions">
					<div class="row">
						<div class="col-2">
						</div>
						<div class="col-7">
							<button id="UpdateBankAccountBtn" type="button" class="btn btn-accent m-btn m-btn--air m-btn--custom">Update Bank Detail</button>&nbsp;&nbsp;
							<button type="reset" class="btn btn-secondary m-btn m-btn--air m-btn--custom">Cancel</button>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	@*<div class="tab-pane " id="m_user_profile_tab_3">
	</div>*@
</div>
</div>
</div>
</div>
</div>
</div>